(function(a){a.fn.fallDown=function(b,d){if(typeof b==="function"){d=b;b={}}var c=a.extend({},a.fn.fallDown.defaults,b);return this.each(function(){$this=a(this);var h=a.meta?a.extend({},c,$this.data()):c;var e="left bottom";var i=(Math.atan($this.height()/$this.width())*180/Math.PI)+90;var g=[(i+15)+"deg",(i-15)+"deg",i+"deg"];var f=[0.25*h.speed,0.25*h.speed,0.2*h.speed,0.3*h.speed];switch(h.corner){case"bottom-right":e="right bottom";i=-((Math.atan($this.height()/$this.width())*180/Math.PI)+90);g=[(i-15)+"deg",(i+15)+"deg",i+"deg"];break;case"top-left":e="left top";i=(90-Math.atan($this.height()/$this.width())*180/Math.PI);g=[(i+15)+"deg",(i-15)+"deg",i+"deg"];break;case"top-right":e="right top";i=-(90-Math.atan($this.height()/$this.width())*180/Math.PI);g=[(i-15)+"deg",(i+15)+"deg",i+"deg"];break}$this.css({transformOrigin:e});$this.animate({rotate:g[0]},f[0],function(){$this.animate({rotate:g[1]},f[1],function(){$this.animate({rotate:g[2]},f[2],function(){var j=($this.height()+$this.width())/2.5;$this.animate({top:"+="+j,marginTop:"+="+j,opacity:"0"},f[3],function(){$this.hide();if(d!=undefined){d()}})})})})})};a.fn.fallDown.defaults={corner:"bottom-left",speed:"1200"}})(jQuery);